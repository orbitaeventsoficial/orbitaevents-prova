@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   TOKENS + BASE COHERENTE
   ========================= */
@layer base {
  :root {
    /* Colores base */
    --bg-main: #0a0a0b;      /* fondo global del sitio */
    --bg-surface: #111214;   /* superficie cards/sections */
    --border: rgba(255,255,255,0.10);
    --text-muted: rgba(255,255,255,0.70);

    /* Dorado (unificado) */
    --oe-gold: #d7b86e;
    --grad-gold: linear-gradient(180deg, #e2c787 0%, #d7b86e 35%, #c9a85c 100%);
    --shadow-gold: 0 0 0 1px rgba(215,184,110,.25), 0 8px 24px rgba(215,184,110,.25);

    /* Elevación suave */
    --shadow-soft: 0 2px 12px rgba(0,0,0,.35);
  }

  color-scheme: dark;

  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    scroll-behavior: smooth;
  }

  body {
    background: var(--bg-main);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Selección consistente de marca */
  ::selection { background-color: rgba(215,184,110,.25); color: #fff; }

  /* Titulares */
  h1 { @apply text-4xl md:text-5xl font-black tracking-tight; }
  h2 { @apply text-3xl md:text-4xl font-bold; }
  h3 { @apply text-2xl md:text-3xl font-semibold; }
  h4 { @apply text-xl md:text-2xl font-semibold; }

  /* Focus visible útil, sin circo */
  a, button, [role="button"], input, textarea, select {
    @apply focus-visible:outline-2 focus-visible:outline-offset-2;
    outline-color: rgba(255,255,255,.55);
  }

  /* Scrollbar dark discreto (Chromium/WebKit) */
  *::-webkit-scrollbar { width: 10px; height: 10px; }
  *::-webkit-scrollbar-thumb { background: rgba(255,255,255,.12); border-radius: 8px; }
  *::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,.20); }
}

/* =========================
   COMPONENTES
   ========================= */
@layer components {
  .oe-section { @apply mx-auto max-w-7xl px-4; }
  .oe-hero { @apply pt-24 pb-16; }
  .oe-muted { color: var(--text-muted); }

  /* Cards sin blur para evitar halos/flickers */
  .oe-card {
    background: var(--bg-surface);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-soft);
    @apply overflow-hidden rounded-3xl;
  }

  /* Botones base */
  .oe-btn {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 font-semibold transition;
    border: 1px solid var(--border);
    background: transparent;
  }
  .oe-btn:hover { border-color: rgba(255,255,255,0.20); }
  .oe-btn:active { transform: translateY(0.5px); }

  .oe-btn-gold {
    color: #0a0a0b;
    background-image: var(--grad-gold);
    box-shadow: var(--shadow-gold);
    border-color: transparent;
  }

  /* Variantes compactas y grandes por si las necesitas */
  .oe-btn-sm { @apply px-3 py-1.5 text-sm; }
  .oe-btn-lg { @apply px-6 py-3 text-base rounded-2xl; }

  /* Chips/etiquetas */
  .oe-chip {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm;
    border: 1px solid var(--border);
    background: rgba(255,255,255,.05);
    color: rgba(255,255,255,.85);
    backdrop-filter: saturate(120%) blur(4px);
  }

  /* Divisor sutil */
  .oe-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  }

  /* PageTransition sin Framer: único fade-in. No parpadea. */
  .pt-enter { opacity: 0; }
  .pt-enter-active {
    opacity: 1;
    transition: opacity 180ms cubic-bezier(.16,1,.3,1);
    will-change: opacity;
  }

  /* Kill switch para sombras del Hero cuando molesta */
  .no-hero-shadow .oe-hero h1,
  .no-hero-shadow .oe-hero .hero-title {
    text-shadow: none !important;
    filter: none !important;
  }

  /* Safe area para botones flotantes en móviles */
  .oe-safe-bottom { padding-bottom: max(env(safe-area-inset-bottom), 16px); }
}

/* =========================
   UTILIDADES OPCIONALES
   ========================= */
.bg-main { background-color: var(--bg-main); }
.bg-surface { background-color: var(--bg-surface); }

/* “Motion-safe” y reducción elegante */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: .01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
    scroll-behavior: auto !important;
  }
}

/* =========================
   SPLASH GATING FINO
   ========================= */
/* Apaga SOLO el planeta/arte del layout mientras dura el splash */
.oe-splash-active [data-hero-planet],
.oe-splash-active .hero-planet,
.oe-splash-active .planet-bg {
  opacity: 0 !important;
  visibility: hidden !important;
  transform: none !important;
  transition: none !important;
  pointer-events: none !important;
}

/* Fondo negro del documento durante el splash, sin tumbar el DOM */
.oe-splash-active html,
.oe-splash-active body {
  background: #000 !important;
}

/* Pequeñas correcciones de imágenes para estabilidad */
img, svg, video { image-rendering: -webkit-optimize-contrast; }
