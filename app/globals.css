@import "./tokens.css";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Base y resets sensatos
   ========================= */
@layer base {
  :root {
    color-scheme: dark;
    scroll-behavior: smooth;
    font-synthesis-weight: none;
    text-wrap: pretty;
  }

  html,
  body {
    height: 100%;
    margin: 0;
    padding: 0;
    background-color: var(--oe-black);
    color: var(--oe-white);
    font-family: var(--font-inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif);
    overscroll-behavior-y: none;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    text-rendering: optimizeLegibility;
  }

  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  a {
    color: inherit;
    text-decoration: none;
    transition: opacity 0.15s ease, transform 0.15s ease;
  }

  a:hover {
    opacity: 0.9;
  }

  a:active {
    transform: scale(0.98);
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  img,
  video {
    display: block;
    max-width: 100%;
    height: auto;
    image-rendering: -webkit-optimize-contrast;
  }

  ::selection {
    background: var(--oe-gold);
    color: var(--oe-black);
  }

  button {
    cursor: pointer;
    border: none;
    background: none;
    color: inherit;
    font: inherit;
  }

  /* Focus visible accesible por teclado */
  :focus-visible {
    outline: 2px solid var(--oe-gold);
    outline-offset: 2px;
  }

  /* Evita doble contorno en navegadores que pintan focus por defecto */
  :focus {
    outline: none;
  }

  /* Anclas con header fijo: que no queden tapadas */
  :target {
    scroll-margin-top: 6rem; /* coincide con pt-16/20/24 del <main> */
  }
}

/* =========================
   Utilidades globales
   ========================= */
@layer utilities {
  .text-gold {
    color: var(--oe-gold);
  }

  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }

  .shadow-hard {
    box-shadow: var(--shadow-hard);
  }
}

/* =========================
   Overlay de ruido global
   ========================= */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("/img/ui/noise-light.png");
  opacity: 0.04;
  mix-blend-mode: overlay;
  z-index: 0;
}

/* =========================
   Reduce motion friendly
   ========================= */
@media (prefers-reduced-motion: reduce) {
  :root {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* =========================
   Scrollbar en Firefox
   ========================= */
@supports (scrollbar-width: thin) {
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.25) transparent;
  }
}

/* =========================
   Modo impresi√≥n decente
   ========================= */
@media print {
  body {
    background: #fff !important;
    color: #111 !important;
  }

  a {
    text-decoration: underline;
  }

  body::before {
    display: none !important;
  }
}
